<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>日付・曜日・時間帯表示</title>
    <style>
        body {
            margin: 0;
            display: flex;
            flex-direction: column;
            width: 100vw;
            height: 100vh;
            font-family: 'MS Gothic', sans-serif;
            text-align: center;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            overflow: hidden;
        }
        .section {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
            width: 100%;
            height: 100%;
        }
        .date-container span {
            display: block;
        }
    </style>
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <div class="section" id="date"></div>
    <div class="section" id="weekday"></div>
    <div class="section" id="time-period"></div>

    <script>
        function updateDisplay() {
            const now = new Date();
            const month = now.getMonth() + 1;
            const date = now.getDate();
            const day = ['日', '月', '火', '水', '木', '金', '土'][now.getDay()];
            const hours = now.getHours();
            
            let period;
            if (hours < 6) period = '夜';
            else if (hours < 12) period = '朝';
            else if (hours < 18) period = '昼';
            else period = '夕';
            
            document.getElementById('date').innerHTML = `<div class="date-container"><span style="font-size: 50%">${month}月</span><span>${date}日</span></div>`;
            document.getElementById('weekday').textContent = day;
            document.getElementById('time-period').textContent = period;
            
            adjustLayout();
        }
        
        function adjustLayout() {
            const isLandscape = window.innerWidth > window.innerHeight;
            document.body.style.flexDirection = isLandscape ? 'row' : 'column';
            adjustFontSize();
        }
        
        function adjustFontSize() {
            document.querySelectorAll('.section').forEach(section => {
                const parent = section;
                const text = section.firstChild;
                let fontSize = 10;
                text.style.fontSize = fontSize + 'px';
                while (text.scrollWidth <= parent.clientWidth && text.scrollHeight <= parent.clientHeight) {
                    fontSize++;
                    text.style.fontSize = fontSize + 'px';
                }
                text.style.fontSize = (fontSize - 1) + 'px';
            });
        }
        
        window.addEventListener('resize', adjustLayout);
        updateDisplay();
    </script>
</body>
</html>
