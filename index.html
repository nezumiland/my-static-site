<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日付・曜日・時間帯</title>
    <style>
        body {
            margin: 0;
            display: flex;
            font-family: 'MS Gothic', sans-serif;
            text-align: center;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        .container {
            display: flex;
            width: 100vw;
            height: 100vh;
        }
        .box {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-grow: 1;
            border: 1px solid #000;
        }
        .date {
            display: flex;
            flex-direction: column;
        }
    </style>
</head>
<body>
    <div class="container" id="container">
        <div class="box" id="dateBox"></div>
        <div class="box" id="dayBox"></div>
        <div class="box" id="timeBox"></div>
    </div>
    <script>
        function updateLayout() {
            const container = document.getElementById("container");
            if (window.innerWidth > window.innerHeight) {
                container.style.flexDirection = "row";
            } else {
                container.style.flexDirection = "column";
            }
        }
        
        function updateDateTime() {
            const now = new Date();
            const month = now.getMonth() + 1;
            const day = now.getDate();
            const weekDay = ['日', '月', '火', '水', '木', '金', '土'][now.getDay()];
            const hours = now.getHours();
            let timePeriod = "";
            if (hours < 6) timePeriod = "夜";
            else if (hours < 12) timePeriod = "朝";
            else if (hours < 18) timePeriod = "昼";
            else timePeriod = "夕";
            
            const dateBox = document.getElementById("dateBox");
            const dayBox = document.getElementById("dayBox");
            const timeBox = document.getElementById("timeBox");
            
            dateBox.innerHTML = `<div class="date"><div style="font-size: 20%">${month}月</div><div style="font-size: 20%">${day}日</div></div>`;
            dayBox.innerHTML = `<div style="font-size: 80%">${weekDay}</div>`;
            timeBox.innerHTML = `<div style="font-size: 80%">${timePeriod}</div>`;
            
            adjustFontSize(dateBox, 20);
            adjustFontSize(dayBox, 80);
            adjustFontSize(timeBox, 80);
        }
        
        function adjustFontSize(element, sizePercentage) {
            const boxWidth = element.clientWidth;
            const boxHeight = element.clientHeight;
            const minSize = Math.min(boxWidth, boxHeight) * (sizePercentage / 100);
            element.style.fontSize = `${minSize}px`;
        }
        
        window.onload = () => {
            updateLayout();
            updateDateTime();
            setInterval(updateDateTime, 60000);
        };
        
        window.onresize = updateLayout;
    </script>
</body>
</html>
