<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>日付・曜日・時間帯</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { display: flex; width: 100vw; height: 100vh; font-family: "MS Gothic", monospace; }
        .container { display: flex; flex-grow: 1; }
        .section { display: flex; justify-content: center; align-items: center; text-align: center; }
    </style>
</head>
<body>
    <script>
        function updateLayout() {
            const body = document.body;
            body.innerHTML = ""; // クリア
            
            const isPortrait = window.innerHeight > window.innerWidth;
            const container = document.createElement("div");
            container.className = "container";
            container.style.flexDirection = isPortrait ? "column" : "row";
            
            const dateDiv = document.createElement("div");
            const dayDiv = document.createElement("div");
            const timeDiv = document.createElement("div");
            
            [dateDiv, dayDiv, timeDiv].forEach(div => {
                div.className = "section";
                div.style.flex = "1";
                div.style.border = "1px solid black";
            });
            
            container.append(dateDiv, dayDiv, timeDiv);
            body.appendChild(container);
            
            const now = new Date();
            const months = ["1月", "2月", "3月", "4月", "5月", "6月", "7月", "8月", "9月", "10月", "11月", "12月"];
            const days = ["日", "月", "火", "水", "木", "金", "土"];
            const times = ["朝", "昼", "夕", "夜"];
            
            const month = months[now.getMonth()];
            const day = `${now.getDate()}日`;
            const weekday = days[now.getDay()];
            const hour = now.getHours();
            const timePeriod = hour < 6 ? times[3] : hour < 12 ? times[0] : hour < 18 ? times[1] : times[2];
            
            dateDiv.innerHTML = `<div>${month}</div><div>${day}</div>`;
            dayDiv.innerText = weekday;
            timeDiv.innerText = timePeriod;
            
            // 文字サイズ計算
            [dateDiv, dayDiv, timeDiv].forEach(div => {
                const rect = div.getBoundingClientRect();
                const baseSize = Math.min(rect.width, rect.height) * 0.6;
                div.style.fontSize = `${baseSize}px`;
                
                if (div === dateDiv) {
                    div.children[0].style.fontSize = `${baseSize * 0.5}px`;
                    div.children[1].style.fontSize = `${baseSize * 0.5}px`;
                }
            });
        }
        
        window.addEventListener("resize", updateLayout);
        window.addEventListener("load", updateLayout);
    </script>
</body>
</html>
